@model IEnumerable<Dominio.Tipo>
@using Microsoft.AspNetCore.Http;

@{
    ViewData["Title"] = "Index";
}


<h1>Lista de Tipos</h1>

<p>
    <a asp-action="Alta">Crear un nuevo tipo</a>
</p>
@if (Model.Count() == 0)
{
    <div>
        @ViewBag.Mensaje;
    </div>
}
else
{
    <div>

        <label for="Busqueda">Buscar Tipo</label>
        <input id="Busqueda" type="text" />
        <button id="button" type="button">Buscar</button>
    </div>



    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Nombre)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Descripcion)
                </th>

                <th>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {

                <tr>
                    <td>
                        @Html.DisplayFor(modelitem => item.Nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelitem => item.Descripcion)
                    </td>

                    <td>

                        <a asp-action="Delete" asp-route-nombre="@item.Nombre"> Eliminar </a>
                        <a asp-action="Edit" asp-route-nombre="@item.Nombre"> Modificar </a>

                    </td>
                </tr>
            }

        </tbody>
    </table>

}



@section Scripts
{
    <script>
        const button = document.getElementById("button");

        button.addEventListener("click", () => {
            const Busqueda = document.getElementById("Busqueda").value
            window.location.href = `/Tipo/BuscarTipo?nomTipo=${Busqueda}`

        })






    </script>

}